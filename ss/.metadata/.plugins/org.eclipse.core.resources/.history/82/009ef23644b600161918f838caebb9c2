package week2.hotel;

public class Safe {
	
	//---vars
	public Password password;
	public boolean activeState = false;
	public boolean openState = false;
	
	//@ public invariant Password password;
	//@ public invariant activeState;
	//@ public invariant activeState;
	
	
	//---constructor
	public Safe(){
		this.password = new Password();
	}
	
	//---queries
	
	//@ ensures /result = true || /result = false;
	/*@ pure */ public boolean isActive(){
		return activeState;
	}
	
	//@ ensures /result = true || /result = false;
	/*@ pure */ public boolean isOpen(){
		return openState;
	}
	
	//@ ensures /result = password;
	/*@ pure */ public Password getPassword(){
		return this.password;
	}
	
	//---commands
	
	//@ requires password.length() >= 6 && !password.contains(" ");
	public void activate(String attempt){
		if (attempt.equals(password)){
			activeState = true;
		} else {
			System.out.println("Wrong activation password");
			activeState = false;
		}
	}
	
	//@ requires password.length() >= 6 && !password.contains(" ");
	public void deactivate(){
		activeState = false;
	}
	
	//@ requires password.length() >= 6 && !password.contains(" ");
	public void open(String attempt){
		if(attempt.equals(password) && activeState){
			openState = true;
		} else {
			System.out.println("Wrong open password");
			openState = false;
		}
	}
	
	//@ requires password.length() >= 6 && !password.contains(" ");
	public void close(){
		openState = false;
	}
}
